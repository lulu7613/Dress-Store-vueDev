webpackJsonp([1],{"/8IH":function(t,a,e){t.exports=e.p+"static/img/banner02.a380509.png"},BfWV:function(t,a,e){t.exports=e.p+"static/img/coupon01.4512051.png"},KAAI:function(t,a){},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("7+uW"),r={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]};var o=e("VU/8")({name:"App"},r,!1,function(t){e("cfxH")},null,null).exports,i=e("/ocq"),n={data:function(){return{user:{username:"",password:""}}},methods:{login:function(){var t=this;this.$validator.validate().then(function(a){if(a){t.$http.post("https://vue-course-api.hexschool.io/admin/signin",t.user).then(function(a){console.log("login()",a.data),a.data.success?t.$router.push("/admin/products"):t.$bus.$emit("messsage:push",a.data.message,"danger")})}})}}},c={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"container col-12 col-md-8 col-xl-4 mt-3 mt-md-5 p-5 border-warning border"},[e("h1",{staticClass:"h3 text-center font-weight-bold member-title mb-4"},[t._v("管理員登入")]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"Email"}},[t._v("帳號")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("email")},attrs:{type:"text",name:"email",id:"email","aria-describedby":"emailHelp",placeholder:"輸入電子信箱"},domProps:{value:t.user.username},on:{input:function(a){a.target.composing||t.$set(t.user,"username",a.target.value)}}}),t._v(" "),t.errors.has("email")?e("small",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("email")))]):t._e()]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"password"}},[t._v("密碼")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("password")},attrs:{type:"password",name:"password",id:"password",placeholder:"輸入密碼"},domProps:{value:t.user.password},on:{input:function(a){a.target.composing||t.$set(t.user,"password",a.target.value)}}}),t._v(" "),t.errors.has("password")?e("small",{staticClass:"form-text text-danger"},[t._v("請輸入密碼")]):t._e()]),t._v(" "),t._m(0),t._v(" "),e("button",{staticClass:"btn btn-warning btn-block",attrs:{type:"button"},on:{click:function(a){return t.login()}}},[t._v("Sign in")]),t._v(" "),e("router-link",{staticClass:"btn btn-light btn-block",attrs:{to:"/"}},[t._v("回購物網")])],1)])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"form-group form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"checkbox",id:"remember"}}),this._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"remember"}},[this._v("記住我")])])}]};var l=e("VU/8")(n,c,!1,function(t){e("Zm9O")},"data-v-0380af44",null).exports,d={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("header",{staticClass:"container-fluid"},[e("nav",{staticClass:"navbar navbar-expand-md navbar-dark"},[e("router-link",{staticClass:"navbar-brand font-weight-bolder logo-name",staticStyle:{border:"0"},attrs:{to:"/customer_products"}},[t._v("翠絲服飾")]),t._v(" "),t._m(0),t._v(" "),t._t("default",[e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[e("ul",{staticClass:"navbar-nav mr-auto"},[e("li",{staticClass:"nav-item active"},[e("router-link",{staticClass:"nav-link font-weight-bold",staticStyle:{border:"0"},attrs:{to:"/customer_products_topic"}},[t._v("主題商品")])],1),t._v(" "),e("li",{staticClass:"nav-item active"},[e("router-link",{staticClass:"nav-link font-weight-bold",staticStyle:{border:"0"},attrs:{to:"/customer_products_hot"}},[t._v("人氣精選")])],1),t._v(" "),e("li",{staticClass:"nav-item active"},[e("router-link",{staticClass:"nav-link font-weight-bold",staticStyle:{border:"0"},attrs:{to:"/customer_products_discount"}},[t._v("清倉55折")])],1)]),t._v(" "),e("form",{staticClass:"form-inline my-2 my-lg-0",attrs:{name:"search"}},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.keyword,expression:"keyword",modifiers:{trim:!0}}],staticClass:"form-control mr-sm-2",attrs:{type:"text",placeholder:"輸入產品關鍵字","aria-label":"Search"},domProps:{value:t.keyword},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.search()},input:function(a){a.target.composing||(t.keyword=a.target.value.trim())},blur:function(a){return t.$forceUpdate()}}}),t._v(" "),e("button",{staticClass:"btn btn-success my-2 my-sm-0",attrs:{type:"button"},on:{click:function(a){return t.search()}}},[t._v("搜尋")])])])])],2)])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}]};var u=e("VU/8")({data:function(){return{keyword:""}},methods:{search:function(){var t=this;t.$bus.$emit("search:array",t.keyword),t.$router.push("/customer_products_search/"+t.keyword),t.keyword=""}}},d,!1,function(t){e("KAAI")},null,null).exports,p=e("7t+N"),m=e.n(p),v={data:function(){return{carts:[],cartsQty:0,filterLoadingItem:""}},methods:{getCarts:function(){var t=this;t.$http.get("https://vue-course-api.hexschool.io/api/dress_store/cart").then(function(a){console.log("購物車列表",a.data),a.data.success&&(t.carts=a.data.data,t.cartsQty=a.data.data.carts.length)})},removeCart:function(t){var a=this;a.filterLoadingItem=t;var e="https://vue-course-api.hexschool.io/api/dress_store/cart/"+t;a.$http.delete(e).then(function(t){console.log("刪除購物車",t.data),t.data.success&&(a.$bus.$emit("messsage:push",t.data.message,"success"),a.getCarts(),a.filterLoadingItem="")})},openCartModal:function(){this.getCarts(),m()("#cartModal").modal("show")},uptadeCartsQty:function(){this.getCarts()},goOrders:function(){this.$router.push("/customer_orders"),m()("#cartModal").modal("hide")},goLogin:function(){var t=this;t.$http.post("https://vue-course-api.hexschool.io/api/user/check").then(function(a){console.log("Login 檢查登入狀態",a.data),a.data.success?t.$router.push("/admin/products"):t.$router.push("/login")})}},created:function(){this.getCarts();var t=this;t.$bus.$on("cartsQty:update",function(){t.uptadeCartsQty()})}},_={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("footer",{staticClass:"container-fluid fixed-bottom",staticStyle:{"background-color":"#f8f9fa"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-3"},[e("button",{staticClass:"btn btn-cart",attrs:{type:"button"},on:{click:function(a){return t.openCartModal()}}},[e("i",{staticClass:"fas fa-shopping-cart text-dark fa-2x"}),t._v(" "),e("span",{staticClass:"badge badge-pill badge-danger bage-num"},[t._v(t._s(t.cartsQty))])])]),t._v(" "),e("div",{staticClass:"footer-text col-9 text-right align-self-center"},[e("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.goLogin()}}},[t._v("管理者模式")])])])]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"cartModal",tabindex:"-1"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),t.carts.carts?e("div",{staticClass:"modal-body"},[0===t.carts.carts.length?e("p",{staticClass:"text-center text-danger"},[t._v("您尚未購買商品")]):e("table",{staticClass:"table"},[e("tbody",t._l(t.carts.carts,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle p-0"},[e("button",{staticClass:"btn btn-sm p-0 text-danger",attrs:{type:"button"},on:{click:function(e){return t.removeCart(a.id)}}},[t.filterLoadingItem===a.id?e("i",{staticClass:"fas fa-spinner fa-spin"}):e("i",{staticClass:"far fa-trash-alt"})])]),t._v(" "),e("td",{staticClass:"align-middle"},[t._v(t._s(a.product.title))]),t._v(" "),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(a.qty)+"件")]),t._v(" "),e("td",{staticClass:"align-middle text-right"},[t._v("NT "+t._s(t._f("currency")(a.total)))])])}),0),t._v(" "),e("tfoot",[e("tr",[t._m(1),t._v(" "),e("td",{staticClass:"text-right"},[e("strong",[t._v("NT "+t._s(t._f("currency")(t.carts.total)))])])])])]),t._v(" "),t.carts.carts.length>0?e("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:function(a){return t.goOrders()}}},[t._v("結帳去")]):e("button",{staticClass:"btn btn-light btn-block",attrs:{type:"button","data-dismiss":"modal"}},[t._v("關閉")])]):t._e()])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header alert-primary",staticStyle:{"border-bottom":"0"}},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[this._v("已購買物品")]),this._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("td",{staticClass:"text-right",attrs:{colspan:"3"}},[a("strong",[this._v("小計")])])}]};var h=e("VU/8")(v,_,!1,function(t){e("UdwP")},"data-v-eaa97258",null).exports,g={data:function(){return{messages:[]}},methods:{updateMessage:function(t,a){var e=Math.floor(new Date/1e3);this.messages.push({message:t,status:a,timestamp:e}),this.removeMessageWithTiming(e)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var a=this;setTimeout(function(){a.messages.filter(function(e,s){if(e.timestamp===t)return a.messages.splice(s,1)})},5e3)}},created:function(){var t=this;t.$bus.$on("messsage:push",function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(a,e)})}},f={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"message-alert"},t._l(t.messages,function(a,s){return e("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+a.status},[t._v("\n    "+t._s(a.message)+"\n    "),e("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(a){return t.removeMessage(s)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}),0)},staticRenderFns:[]};var C=e("VU/8")(g,f,!1,function(t){e("z4Hk")},null,null).exports,b={components:{Navbar:u,Footer:h,Alert:C}},y={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("Alert"),this._v(" "),a("Navbar"),this._v(" "),a("router-view"),this._v(" "),a("Footer")],1)},staticRenderFns:[]},x=e("VU/8")(b,y,!1,null,null,null).exports,P=e("/kJX"),$={components:{Carousel:P.Carousel,Slide:P.Slide},data:function(){return{}}},w={render:function(){var t=this.$createElement,a=this._self._c||t;return a("carousel",{attrs:{"per-page":1,paginationEnabled:!1,"mouse-drag":!1,autoplay:!0,loop:!0}},[a("slide",[a("img",{staticClass:"d-block w-100",attrs:{src:e("jO+L"),alt:"banner01.jpg"}})]),this._v(" "),a("slide",[a("img",{staticClass:"d-block w-100",attrs:{src:e("/8IH"),alt:"banner02.jpg"}})]),this._v(" "),a("slide",[a("img",{staticClass:"d-block w-100",attrs:{src:e("RKGu"),alt:"banner03.jpg"}})])],1)},staticRenderFns:[]};var k=e("VU/8")($,w,!1,function(t){e("c8kB")},"data-v-52f6db1c",null).exports,L={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container mt-3"},[e("nav",{attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb bg-transparent h5"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:"/customer_products"}},[t._v("首頁")])],1),t._v(" "),t.propsData.title?e("li",{staticClass:"breadcrumb-item"},[e("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.goPage(t.propsData.category)}}},[t._v(t._s(t.propsData.category))])]):t._e(),t._v(" "),t.propsData.title?t._e():e("li",{staticClass:"breadcrumb-item active"},[t._v("\n        "+t._s(t.propsData.category)+"\n      ")]),t._v(" "),t.propsData.title?e("li",{staticClass:"breadcrumb-item active"},[t._v("\n        "+t._s(t.propsData.title)+"\n      ")]):t._e()])])])},staticRenderFns:[]},D=e("VU/8")({props:["propsData"],methods:{goPage:function(t){var a="";"主題商品"===t?a="topic":"人氣精選"===t?a="hot":"清倉55折"===t&&(a="discount"),this.$router.push("/customer_products_"+a)}}},L,!1,null,null,null).exports,E={props:["propsData"],data:function(){return{filterLoadingItem:""}},methods:{goToProductPage:function(t){this.$router.push("/customer_product/"+t),this.$emit("emit",t)},addCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=this;e.filterLoadingItem=t;var s={product_id:t,qty:a};e.$http.post("https://vue-course-api.hexschool.io/api/dress_store/cart",{data:s}).then(function(t){console.log("加入購物車(temp)",t.data),t.data.success&&(e.filterLoadingItem="",e.$bus.$emit("messsage:push",t.data.message,"success"),e.$bus.$emit("cartsQty:update"))})}}},T={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row pl-4"},t._l(t.propsData,function(a){return e("div",{key:a.id,staticClass:"col-12 col-md-6 col-lg-4 col-xl-3 mb-5"},[e("div",{staticClass:"card"},[e("img",{staticClass:"card-img-top pt-3 px-3",attrs:{src:a.imageUrl,alt:a.title}}),t._v(" "),e("div",{staticClass:"card-body"},["主題商品"===a.category?e("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v(t._s(a.category))]):t._e(),t._v(" "),"人氣精選"===a.category?e("span",{staticClass:"badge badge-warning float-right ml-2"},[t._v(t._s(a.category))]):t._e(),t._v(" "),"清倉55折"===a.category?e("span",{staticClass:"badge badge-success float-right ml-2"},[t._v(t._s(a.category))]):t._e(),t._v(" "),e("h6",{staticClass:"card-title"},[e("a",{staticClass:"text-dark",attrs:{href:"#"}},[t._v(t._s(a.title))])]),t._v(" "),e("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[a.price?t._e():e("div",{staticClass:"h6 font-weight-bold"},[t._v("NT"+t._s(t._f("currency")(a.origin_price)))]),t._v(" "),a.price?e("del",[e("small",[t._v("原價 NT"+t._s(t._f("currency")(a.origin_price)))])]):t._e(),t._v(" "),a.price?e("div",{staticClass:"h6 text-danger font-weight-bold"},[t._v("特價 NT"+t._s(t._f("currency")(a.price)))]):t._e()])]),t._v(" "),e("div",{staticClass:"card-footer d-flex bg-white"},[e("button",{staticClass:"btn btn-light btn-sm",attrs:{type:"button"},on:{click:function(e){return t.goToProductPage(a.id)}}},[t._v("查看更多")]),t._v(" "),e("button",{staticClass:"btn btn-primary btn-sm ml-auto",attrs:{type:"button"},on:{click:function(e){return t.addCart(a.id)}}},[t.filterLoadingItem===a.id?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n          加入購物車\n        ")])])])])}),0)},staticRenderFns:[]},N=e("VU/8")(E,T,!1,null,null,null).exports,M={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[t.topic?s("img",{staticClass:"img-fulid",attrs:{width:"100%",src:e("BfWV"),alt:"coupon01"}}):t._e(),t._v(" "),t.hot?s("img",{staticClass:"img-fulid mt-2",attrs:{width:"100%",src:e("jywQ"),alt:"coupon02"}}):t._e(),t._v(" "),t.discount?s("img",{staticClass:"img-fulid mt-2",attrs:{width:"100%",src:e("rbjP"),alt:"coupon03"}}):t._e()])},staticRenderFns:[]},B=e("VU/8")({data:function(){return{topic:!0,hot:!0,discount:!0}},created:function(){var t=this;"CustomerProductsTopic"===t.$route.name?(t.topic=!0,t.hot=!1,t.discount=!1):"CustomerProductsHot"===t.$route.name?(t.topic=!1,t.hot=!0,t.discount=!1):"CustomerProductsDiscount"===t.$route.name&&(t.topic=!1,t.hot=!1,t.discount=!0)}},M,!1,null,null,null).exports,U={components:{Banner:k,Breadcrumb:D,ProductTemplate:N,CouponAd:B},data:function(){return{Breadcrumb:{category:"全部商品"},propsData:[],isLoading:!1}},methods:{getProdects:function(){var t=this;t.isLoading=!0;t.$http.get("https://vue-course-api.hexschool.io/api/dress_store/products/all").then(function(a){console.log("全部商品",a.data),a.data.success&&(t.propsData=a.data.products,t.isLoading=!1)})}},created:function(){this.getProdects()}},A={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Banner",{staticClass:"mb-4"}),t._v(" "),e("div",{staticClass:"container-fluid"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),e("div",{staticClass:"row mb-5"},[e("div",{staticClass:"col-lg-3 mt-md-5"},[e("CouponAd")],1),t._v(" "),e("div",{staticClass:"col-lg-9"},[e("Breadcrumb",{staticClass:"mb-4",attrs:{propsData:t.Breadcrumb}}),t._v(" "),e("ProductTemplate",{attrs:{propsData:t.propsData}})],1)])],1)],1)},staticRenderFns:[]},F=e("VU/8")(U,A,!1,null,null,null).exports,S={components:{Banner:k,Breadcrumb:D,ProductTemplate:N,CouponAd:B},data:function(){return{Breadcrumb:{category:"主題商品"},propsData:[],isLoading:!1}},methods:{getProdects:function(){var t=this;t.isLoading=!0;t.$http.get("https://vue-course-api.hexschool.io/api/dress_store/products/all").then(function(a){console.log("主題商品",a.data),a.data.success&&(a.data.products.forEach(function(a){"主題商品"===a.category&&t.propsData.push(a)}),t.isLoading=!1)})}},created:function(){this.getProdects()}},R={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Banner",{staticClass:"mb-4"}),t._v(" "),e("div",{staticClass:"container-fluid"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),e("div",{staticClass:"row mb-5"},[e("div",{staticClass:"col-lg-3 mt-md-5"},[e("CouponAd")],1),t._v(" "),e("div",{staticClass:"col-lg-9"},[e("Breadcrumb",{staticClass:"mb-4",attrs:{propsData:t.Breadcrumb}}),t._v(" "),e("ProductTemplate",{attrs:{propsData:t.propsData}})],1)])],1)],1)},staticRenderFns:[]},O=e("VU/8")(S,R,!1,null,null,null).exports,V={components:{Banner:k,Breadcrumb:D,ProductTemplate:N,CouponAd:B},data:function(){return{Breadcrumb:{category:"人氣精選"},propsData:[],isLoading:!1}},methods:{getProdects:function(){var t=this;t.isLoading=!0;t.$http.get("https://vue-course-api.hexschool.io/api/dress_store/products/all").then(function(a){console.log("人氣精選",a.data),a.data.success&&(a.data.products.forEach(function(a){"人氣精選"===a.category&&t.propsData.push(a)}),t.isLoading=!1)})}},created:function(){this.getProdects()}},q={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Banner",{staticClass:"mb-4"}),t._v(" "),e("div",{staticClass:"container-fluid"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),e("div",{staticClass:"row mb-5"},[e("div",{staticClass:"col-lg-3 mt-md-5"},[e("CouponAd")],1),t._v(" "),e("div",{staticClass:"col-lg-9"},[e("Breadcrumb",{staticClass:"mb-4",attrs:{propsData:t.Breadcrumb}}),t._v(" "),e("ProductTemplate",{attrs:{propsData:t.propsData}})],1)])],1)],1)},staticRenderFns:[]},I=e("VU/8")(V,q,!1,null,null,null).exports,j={components:{Banner:k,Breadcrumb:D,ProductTemplate:N,CouponAd:B},data:function(){return{Breadcrumb:{category:"清倉55折"},propsData:[],isLoading:!1}},methods:{getProdects:function(){var t=this;t.isLoading=!0;t.$http.get("https://vue-course-api.hexschool.io/api/dress_store/products/all").then(function(a){console.log("清倉55折",a.data),a.data.success&&(a.data.products.forEach(function(a){"清倉55折"===a.category&&t.propsData.push(a)}),t.isLoading=!1)})}},created:function(){this.getProdects()}},Q={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Banner",{staticClass:"mb-4"}),t._v(" "),e("div",{staticClass:"container-fluid"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),e("div",{staticClass:"row mb-5"},[e("div",{staticClass:"col-lg-3 mt-md-5"},[e("CouponAd")],1),t._v(" "),e("div",{staticClass:"col-lg-9"},[e("Breadcrumb",{staticClass:"mb-4",attrs:{propsData:t.Breadcrumb}}),t._v(" "),e("ProductTemplate",{attrs:{propsData:t.propsData}})],1)])],1)],1)},staticRenderFns:[]},H=e("VU/8")(j,Q,!1,null,null,null).exports,W={components:{Banner:k,Breadcrumb:D,ProductTemplate:N,CouponAd:B},data:function(){return{Breadcrumb:{category:""},products:[],propsData:[],isLoading:!1}},methods:{getSearch:function(){var t=this;t.isLoading=!0;var a=t.$route.params.keyword;t.$http.get("https://vue-course-api.hexschool.io/api/dress_store/products/all").then(function(e){console.log("搜尋頁面",e.data),e.data.success&&(t.products=e.data.products,t.Breadcrumb.category="搜尋: "+a,t.products.forEach(function(e){(e.title.match(a)||e.category.match(a))&&t.propsData.push(e)}),t.isLoading=!1,console.log("關鍵字1: "+a,t.propsData))})}},created:function(){var t=this;"CusTomerProductsSearch"!==t.$route.name&&t.getSearch(),t.$bus.$on("search:array",function(a){t.propsData=[],t.isLoading=!0,t.Breadcrumb.category="搜尋: "+a,t.products.forEach(function(e){(e.title.match(a)||e.category.match(a))&&t.propsData.push(e)}),t.isLoading=!1,console.log("關鍵字2: "+a,t.propsData)})},beforeDestroy:function(){this.$bus.$off("search:array")}},K={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Banner",{staticClass:"mb-4"}),t._v(" "),e("div",{staticClass:"container-fluid"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),e("div",{staticClass:"row mb-5"},[e("div",{staticClass:"col-lg-3 mt-md-5"},[e("CouponAd")],1),t._v(" "),e("div",{staticClass:"col-lg-9"},[e("Breadcrumb",{staticClass:"mb-4",attrs:{propsData:t.Breadcrumb}}),t._v(" "),0===t.propsData.length?e("p",[t._v("搜尋不到商品")]):t._e(),t._v(" "),e("ProductTemplate",{attrs:{propsData:t.propsData}})],1)])],1)],1)},staticRenderFns:[]},z=e("VU/8")(W,K,!1,null,null,null).exports,Z={props:["propsData"],data:function(){return{filterLoadingItem:""}},methods:{addCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=this;e.filterLoadingItem=t;var s={product_id:t,qty:a};e.$http.post("https://vue-course-api.hexschool.io/api/dress_store/cart",{data:s}).then(function(t){console.log("加入購物車(dital)",t.data),t.data.success&&(e.filterLoadingItem="",e.$bus.$emit("messsage:push",t.data.message,"success"),e.$bus.$emit("cartsQty:update"))})}}},J={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row border-bottom",attrs:{id:"product-main"}},[e("div",{staticClass:"col-lg-6 text-center product-img mb-5"},[e("img",{staticClass:"img-fluid",attrs:{src:t.propsData.imageUrl,alt:"1101al.jpg"}})]),t._v(" "),e("div",{staticClass:"col-lg-5 mb-5",attrs:{id:"product-content-main"}},[e("div",{staticClass:"d-flex align-items-baseline"},[e("h1",{staticClass:"h3 font-weight-bolder mr-auto"},[t._v(t._s(t.propsData.title))])]),t._v(" "),"主題商品"===t.propsData.category?e("span",{staticClass:"badge badge-secondary mb-2"},[t._v(t._s(t.propsData.category))]):t._e(),t._v(" "),"人氣精選"===t.propsData.category?e("span",{staticClass:"badge badge-warning mb-2"},[t._v(t._s(t.propsData.category))]):t._e(),t._v(" "),"清倉55折"===t.propsData.category?e("span",{staticClass:"badge badge-success mb-2"},[t._v(t._s(t.propsData.category))]):t._e(),t._v(" "),e("p",[t._v(t._s(t.propsData.content))]),t._v(" "),e("div",{staticClass:"d-flex justify-content-end align-items-end"},[e("del",[t.propsData.price?e("div",{staticClass:"h5"},[t._v("原價 NT$"+t._s(t.propsData.origin_price))]):t._e()]),t._v(" "),t.propsData.price?e("div",{staticClass:"h3 ml-auto text-danger"},[e("small",{staticClass:"font-weight-bold"},[t._v("特價 NT$")]),t._v(" "),e("strong",[t._v(t._s(t.propsData.price))])]):t._e(),t._v(" "),t.propsData.price?t._e():e("div",{staticClass:"h3 ml-auto text-danger"},[e("small",{staticClass:"font-weight-bold"},[t._v("售價 $NT")]),t._v(" "),e("strong",[t._v(t._s(t.propsData.origin_price))])])]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"input-group mt-3"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.propsData.num,expression:"propsData.num"}],staticClass:"form-control mr-3",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.propsData,"num",a.target.multiple?e:e[0])}}},t._l(10,function(a){return e("option",{key:a,domProps:{value:a}},[t._v("選購 "+t._s(a)+" "+t._s(t.propsData.unit))])}),0),t._v(" "),e("button",{staticClass:"btn btn-primary",on:{click:function(a){return t.addCart(t.propsData.id,t.propsData.num)}}},[t.filterLoadingItem===t.propsData.id?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("\n        加入購物車\n      ")])]),t._v(" "),t.propsData.num>1?e("div",{staticClass:"text-muted text-right text-nowrap mt-3"},[t._v("\n      小計\n      "),e("strong",[t._v(t._s(t._f("currency")(t.propsData.num*t.propsData.price)))]),t._v(" 元\n    ")]):t._e()])])},staticRenderFns:[]},X={components:{Breadcrumb:D,ProductDetailTemplate:e("VU/8")(Z,J,!1,null,null,null).exports,ProductTemplate:N},data:function(){return{itemId:"",products:[],sameCategoryProducts:[],tempProduct:{},isLoading:!1}},methods:{getProducts:function(){var t=this;t.isLoading=!0,t.itemId=t.$route.params.id;t.axios.get("https://vue-course-api.hexschool.io/api/dress_store/products/all").then(function(a){console.log("取得商品列表",a.data),a.data.success&&(t.products=a.data.products,t.products.forEach(function(a){a.id===t.itemId&&(t.tempProduct=a,t.tempProduct.num=1)}),t.products.forEach(function(a){a.id!==t.tempProduct.id&&a.category===t.tempProduct.category&&t.sameCategoryProducts.push(a)}),t.isLoading=!1)})},changeProduct:function(t){var a=this;a.itemId=t,a.sameCategoryProducts=[],a.tempProduct={},a.products.forEach(function(t){t.id===a.itemId&&(a.tempProduct=t,a.tempProduct.num=1)}),a.products.forEach(function(t){t.id!==a.tempProduct.id&&t.category===a.tempProduct.category&&a.sameCategoryProducts.push(t)})}},created:function(){this.getProducts()},updated:function(){window.scroll(0,0)}},G={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),e("Breadcrumb",{attrs:{propsData:t.tempProduct}}),t._v(" "),e("main",{staticClass:"container my-5 main"},[e("ProductDetailTemplate",{attrs:{propsData:t.tempProduct}}),t._v(" "),e("h6",{staticClass:"my-3 pl-4"},[t._v("其他同款商品")]),t._v(" "),e("ProductTemplate",{attrs:{propsData:t.sameCategoryProducts},on:{emit:t.changeProduct}})],1)],1)},staticRenderFns:[]},Y=e("VU/8")(X,G,!1,null,null,null).exports,tt={data:function(){return{orders:[],couponCode:"",form:{user:{}},isLoading:!1,filterLoadingItem:!1}},methods:{getOrders:function(){var t=this;t.isLoading=!0;t.$http.get("https://vue-course-api.hexschool.io/api/dress_store/cart").then(function(a){console.log("結帳-輸入訂單資料",a.data),a.data.success&&(t.orders=a.data.data,t.isLoading=!1)})},removeCart:function(t){var a=this,e=this;e.filterLoadingItem=t;var s="https://vue-course-api.hexschool.io/api/dress_store/cart/"+t;e.$http.delete(s).then(function(t){console.log("刪除購物車",t.data),t.data.success&&(e.$bus.$emit("messsage:push",t.data.message,"success"),e.getOrders(),a.$bus.$emit("cartsQty:update"),e.filterLoadingItem="")})},addCoupon:function(){var t=this,a={code:this.couponCode};this.$http.post("https://vue-course-api.hexschool.io/api/dress_store/coupon",{data:a}).then(function(a){console.log("結帳-套用優惠券",a.data),a.data.success?(t.$bus.$emit("messsage:push",a.data.message,"success"),t.getOrders(),t.couponCode=""):t.$bus.$emit("messsage:push",a.data.message,"danger")})},addCartOrder:function(){var t=this,a=this;this.$validator.validate().then(function(e){e&&a.$http.post("https://vue-course-api.hexschool.io/api/dress_store/order",{data:a.form}).then(function(e){console.log("結帳-送出訂單",e.data),e.data.success&&(t.$bus.$emit("cartsQty:update"),a.$router.push("/customer_check/"+e.data.orderId))})})}},created:function(){this.getOrders()}},at={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",{staticClass:"container my-5"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"row justify-content-center mt-5"},[e("div",{staticClass:"col-md-9"},[e("div",{staticClass:"input-group input-group-lg mb-1"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.couponCode,expression:"couponCode"}],staticClass:"form-control",attrs:{type:"text",placeholder:"請輸入優惠碼"},domProps:{value:t.couponCode},on:{input:function(a){a.target.composing||(t.couponCode=a.target.value)}}}),t._v(" "),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){return t.addCoupon()}}},[t._v("套用優惠碼")])])]),t._v(" "),e("div",{staticClass:"text-warning mb-4"},[t._v("全館年終大優惠，輸入999，商品一律打9折")]),t._v(" "),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header d-flex justify-content-between",attrs:{role:"tab",id:"headingOne"}},[e("button",{staticClass:"btn btn-link",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}},[t._v("顯示購物車細節")]),t._v(" "),e("div",{staticClass:"align-self-center mb-0 h4 font-weight-bold"},[t.orders.final_total!==t.orders.total?e("span",{staticClass:"h6"},[t._v("( 已折扣 )")]):t._e(),t._v("\n            NT "+t._s(t._f("currency")(t.orders.final_total)))])]),t._v(" "),e("div",{staticClass:"collapse",attrs:{id:"collapseOne","aria-labelledby":"headingOne"}},[e("table",{staticClass:"table mt-3"},[t._m(2),t._v(" "),e("tbody",t._l(t.orders.carts,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeCart(a.id)}}},[t.filterLoadingItem===a.id?e("i",{staticClass:"fas fa-spinner fa-spin"}):e("i",{staticClass:"far fa-trash-alt"})])]),t._v(" "),e("td",[e("img",{staticClass:"img-fluid",attrs:{src:a.product.imageUrl,alt:""}})]),t._v(" "),e("td",{staticClass:"align-middle"},[e("router-link",{attrs:{to:"/customer_product/"+a.product.id}},[t._v(t._s(a.product.title))]),t._v(" "),a.coupon?e("div",{staticClass:"text-warning"},[e("small",[t._v("已套用優惠券")])]):t._e()],1),t._v(" "),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(a.qty)+"件")]),t._v(" "),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(t._f("currency")(a.final_total)))])])}),0),t._v(" "),e("tfoot",[e("tr",[t._m(3),t._v(" "),e("td",{staticClass:"text-right"},[e("strong",[t._v("NT "+t._s(t._f("currency")(t.orders.total)))])])]),t._v(" "),t.orders.final_total!==t.orders.total?e("tr",[t._m(4),t._v(" "),e("td",{staticClass:"text-right text-danger"},[e("strong",[t._v("NT "+t._s(t._f("currency")(t.orders.final_total)))])])]):t._e()])])])])])]),t._v(" "),e("div",{staticClass:"row justify-content-center mt-5"},[e("form",{staticClass:"col-md-9",on:{submit:function(a){return a.preventDefault(),t.addCartOrder()}}},[t._m(5),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useremail"}},[t._v("Email")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("email")},attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email"},domProps:{value:t.form.user.email},on:{input:function(a){a.target.composing||t.$set(t.form.user,"email",a.target.value)}}}),t._v(" "),t.errors.has("email")?e("span",{staticClass:"text-danger"},[t._v(t._s(t.errors.first("email")))]):t._e()]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("name")},attrs:{type:"text",name:"name",id:"username",placeholder:"輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(a){a.target.composing||t.$set(t.form.user,"name",a.target.value)}}}),t._v(" "),t.errors.has("name")?e("span",{staticClass:"text-danger"},[t._v("請輸入姓名")]):t._e()]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("usertel")},attrs:{type:"tel",name:"usertel",id:"usertel",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(a){a.target.composing||t.$set(t.form.user,"tel",a.target.value)}}}),t._v(" "),t.errors.has("usertel")?e("span",{staticClass:"text-danger"},[t._v("收件人電話不得留空")]):t._e()]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("address")},attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(a){a.target.composing||t.$set(t.form.user,"address",a.target.value)}}}),t._v(" "),t.errors.has("address")?e("span",{staticClass:"text-danger"},[t._v("地址欄位不得留空")]):t._e()]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"comment"}},[t._v("留言")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"comment",cols:"30",rows:"10"},domProps:{value:t.form.message},on:{input:function(a){a.target.composing||t.$set(t.form,"message",a.target.value)}}})]),t._v(" "),t._m(6)])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("h1",{staticClass:"h2 text-center",staticStyle:{color:"#787878"}},[a("strong",[this._v("結帳頁面")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"form-row mt-5"},[a("div",{staticClass:"col-12 col-sm"},[a("div",{staticClass:"alert alert-success text-center alert-radius",staticStyle:{"border-radius":"50px"},attrs:{role:"alert"}},[this._v("1. 輸入訂單資料")])]),this._v(" "),a("div",{staticClass:"col-12 col-sm"},[a("div",{staticClass:"alert alert-light text-center alert-radius",staticStyle:{"border-radius":"50px"},attrs:{role:"alert"}},[this._v("2. 金流付款")])]),this._v(" "),a("div",{staticClass:"col-12 col-sm"},[a("div",{staticClass:"alert alert-light text-center alert-radius",staticStyle:{"border-radius":"50px"},attrs:{role:"alert"}},[this._v("3. 完成")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("thead",{staticClass:"alert-primary"},[a("th",{attrs:{width:"45"}}),this._v(" "),a("th",{attrs:{width:"80"}}),this._v(" "),a("th",[this._v("商品名稱")]),this._v(" "),a("th",{staticClass:"text-right",attrs:{width:"60"}},[this._v("數量")]),this._v(" "),a("th",{staticClass:"text-right",attrs:{width:"130"}},[this._v("小計")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("td",{staticClass:"text-right",attrs:{colspan:"4"}},[a("strong",[this._v("總計")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("td",{staticClass:"text-right text-danger",attrs:{colspan:"4"}},[a("strong",[this._v("折扣價")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h4",{staticClass:"text-center alert-primary py-3"},[a("strong",[this._v("訂購人資訊")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"text-right pb-4"},[a("button",{staticClass:"btn btn-danger"},[this._v("送出訂單")])])}]},et=e("VU/8")(tt,at,!1,null,null,null).exports,st={data:function(){return{order:{user:{}},isLoading:!1}},methods:{payOrder:function(){var t=this;t.isLoading=!0;var a="https://vue-course-api.hexschool.io/api/dress_store/pay/"+t.order.id;this.$http.post(a,t.order.id).then(function(a){console.log("結帳-付款完成",a.data),t.order.is_paid=!0,t.isLoading=!1})}},created:function(){var t=this;t.isLoading=!0;var a="https://vue-course-api.hexschool.io/api/dress_store/order/"+this.$route.params.id;this.$http.get(a).then(function(a){console.log("結帳-取得訂單",a.data),t.order=a.data.order,t.isLoading=!1})}},rt={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",{staticClass:"my-5"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"container justify-content-center"},[e("div",{staticClass:"form-row mt-5"},[t._m(1),t._v(" "),e("div",{staticClass:"col-12 col-sm"},[e("div",{staticClass:"alert text-center alert-success alert-radius",class:{"alert-light":t.order.is_paid},staticStyle:{"border-radius":"50px"},attrs:{role:"alert"}},[t._v("2. 金流付款")])]),t._v(" "),e("div",{staticClass:"col-12 col-sm"},[e("div",{staticClass:"alert alert-success text-center alert-radius",class:{"alert-light":!t.order.is_paid},staticStyle:{"border-radius":"50px"},attrs:{role:"alert"}},[t._v("3. 完成")])])])]),t._v(" "),t.order.is_paid?e("div",{staticClass:"row justify-content-center my-4"},[e("div",{staticClass:"col-md-6"},[e("strong",[t._v(t._s(t.order.user.name))]),t._v(" 小姐/先生:\n      "),e("br"),t._v("感謝您對\n      "),e("strong",[t._v("翠絲服飾")]),t._v(" 的支持，以下是您的結帳資訊。\n    ")])]):t._e(),t._v(" "),e("div",{staticClass:"my-5 pb-4 row justify-content-center"},[e("form",{staticClass:"col-md-6",on:{submit:function(a){return a.preventDefault(),t.payOrder()}}},[e("table",{staticClass:"table"},[t._m(2),t._v(" "),e("tbody",t._l(t.order.products,function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[t._v(t._s(a.product.title))]),t._v(" "),e("td",{staticClass:"align-middle text-right"},[t._v(t._s(a.qty)+t._s(a.product.unit))]),t._v(" "),e("td",{staticClass:"align-middle text-right"},[t._v("NT "+t._s(t._f("currency")(a.final_total)))])])}),0),t._v(" "),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("總計")]),t._v(" "),e("td",{staticClass:"text-right"},[t._v("NT "+t._s(t._f("currency")(t.order.total)))])])])]),t._v(" "),e("table",{staticClass:"table"},[e("tbody",[e("tr",[e("th",{attrs:{width:"130"}},[t._v("Email")]),t._v(" "),e("td",[t._v(t._s(t.order.user.email))])]),t._v(" "),e("tr",[e("th",[t._v("姓名")]),t._v(" "),e("td",[t._v(t._s(t.order.user.name))])]),t._v(" "),e("tr",[e("th",[t._v("收件人電話")]),t._v(" "),e("td",[t._v(t._s(t.order.user.tel))])]),t._v(" "),e("tr",[e("th",[t._v("收件人地址")]),t._v(" "),e("td",[t._v(t._s(t.order.user.address))])]),t._v(" "),e("tr",[e("th",[t._v("付款狀態")]),t._v(" "),e("td",[t.order.is_paid?e("span",{staticClass:"text-success"},[t._v("付款完成")]):e("span",[t._v("尚未付款")])])])])]),t._v(" "),!1===t.order.is_paid?e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-danger"},[t._v("確認付款去")])]):t._e()])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("h1",{staticClass:"h2 text-center",staticStyle:{color:"#787878"}},[a("strong",[this._v("結帳頁面")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-12 col-sm"},[a("div",{staticClass:"alert alert-light text-center alert-radius",staticStyle:{"border-radius":"50px"},attrs:{role:"alert"}},[this._v("1. 輸入訂單資料")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("thead",[a("th",[this._v("品名")]),this._v(" "),a("th",{staticClass:"text-right",attrs:{width:"120"}},[this._v("數量")]),this._v(" "),a("th",{staticClass:"text-right",attrs:{width:"150"}},[this._v("單價")])])}]},ot=e("VU/8")(st,rt,!1,null,null,null).exports,it={components:{Navbar:u,Alert:C},methods:{signout:function(){var t=this;this.$http.post("https://vue-course-api.hexschool.io/logout").then(function(a){console.log("登出",a.data),a.data.success&&t.$router.push("/customer_products")})}}},nt={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Alert"),t._v(" "),e("Navbar",[t._t("default",[e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[e("ul",{staticClass:"navbar-nav ml-auto"},[e("li",{staticClass:"nav-item active"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/products"}},[e("i",{staticClass:"far fa-address-card"}),t._v("\n              產品列表\n            ")])],1),t._v(" "),e("li",{staticClass:"nav-item active"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/orders"}},[e("i",{staticClass:"far fa-calendar-alt"}),t._v("\n              訂單列表\n            ")])],1),t._v(" "),e("li",{staticClass:"nav-item active"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/admin/coupons"}},[e("i",{staticClass:"fab fa-affiliatetheme"}),t._v("\n              優惠券\n            ")])],1),t._v(" "),e("li",{staticClass:"nav-item active"},[e("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(a){return t.signout()}}},[e("i",{staticClass:"fas fa-user-alt"}),t._v("\n              登出\n            ")])])])])])],2),t._v(" "),e("router-view")],1)},staticRenderFns:[]};var ct=e("VU/8")(it,nt,!1,function(t){e("XFkg")},null,null).exports,lt={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{attrs:{"aria-label":"Page navigation example"}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item",class:{disabled:!t.propsPage.has_pre}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return t.updatePage(t.propsPage.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._v(" "),t._l(t.propsPage.total_pages,function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.propsPage.current_page===a}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return t.updatePage(a)}}},[t._v(t._s(a))])])}),t._v(" "),e("li",{staticClass:"page-item",class:{disabled:!t.propsPage.has_next}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return t.updatePage(t.propsPage.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])},staticRenderFns:[]},dt=e("VU/8")({props:["propsPage"],methods:{updatePage:function(t){this.$emit("emitPage",t)}}},lt,!1,null,null,null).exports,ut={components:{Page:dt},data:function(){return{products:[],tempProduct:{},pagination:{},modalType:"new",isLoading:!1,isfilterLoading:!1}},methods:{getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this;a.isLoading=!0;var e="https://vue-course-api.hexschool.io/api/dress_store/admin/products?page="+t;a.$http.get(e).then(function(t){console.log("getProducts()",t.data),a.products=t.data.products,a.pagination=t.data.pagination,a.isLoading=!1})},openModal:function(t,a){"new"===t?(this.modalType="new",this.tempProduct={},m()("#productModal").modal("show")):"edit"===t?(this.modalType="edit",this.tempProduct=a,m()("#productModal").modal("show")):(this.modalType="delete",this.tempProduct=a,m()("#delProductModal").modal("show"))},updateProduct:function(){var t=this,a="https://vue-course-api.hexschool.io/api/dress_store/admin/product",e="post";"edit"===this.modalType?(a="https://vue-course-api.hexschool.io/api/dress_store/admin/product/"+t.tempProduct.id,e="put"):"delete"===this.modalType&&(a="https://vue-course-api.hexschool.io/api/dress_store/admin/product/"+t.tempProduct.id,e="delete"),t.$http[e](a,{data:t.tempProduct}).then(function(a){console.log(t.modalType,a.data),a.data.success?("delete"===t.modalType?m()("#delProductModal").modal("hide"):m()("#productModal").modal("hide"),t.getProducts(),t.$bus.$emit("messsage:push",a.data.message,"success")):t.$bus.$emit("messsage:push",a.data.message,"danger")})},uploadFile:function(){var t=this,a=this;a.isfilterLoading=!0;var e=a.$refs.files.files[0],s=new FormData;s.append("file-to-upload",e);a.$http.post("https://vue-course-api.hexschool.io/api/dress_store/admin/upload",s,{header:{type:"multipart/form-data"}}).then(function(e){console.log("uploadFile",e.data),e.data.success?(a.$set(a.tempProduct,"imageUrl",e.data.imageUrl),a.isfilterLoading=!1):(t.$bus.$emit("messsage:push","上傳失敗","danger"),a.isfilterLoading=!1)})}},created:function(){this.getProducts()}},pt={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),e("div",{staticClass:"row my-3"},[e("div",{staticClass:"col-md-6"},[e("Page",{attrs:{propsPage:t.pagination},on:{emitPage:t.getProducts}})],1),t._v(" "),e("div",{staticClass:"col-md-6 text-right"},[e("button",{staticClass:"btn btn-primary",on:{click:function(a){return t.openModal("new")}}},[t._v("建立新的產品")])])]),t._v(" "),e("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),e("tbody",t._l(t.products,function(a,s){return e("tr",{key:a.id},[e("td",[t._v(t._s(s+1))]),t._v(" "),e("td",[t._v(t._s(a.category))]),t._v(" "),e("td",[t._v(t._s(a.title))]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(a.origin_price)))]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(a.price)))]),t._v(" "),e("td",{staticClass:"text-center"},[a.is_enabled?e("span",{staticClass:"text-success"},[t._v("啟用")]):e("span",{staticClass:"text-secondary"},[t._v("未啟用")])]),t._v(" "),e("td",{staticClass:"text-center"},[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("button",{staticClass:"btn btn-outline-primary btn-sm",attrs:{type:"button"},on:{click:function(e){return t.openModal("edit",a)}}},[t._v("編輯")]),t._v(" "),e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return t.openModal("delete",a)}}},[t._v("刪除")])])])])}),0)]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[e("div",{staticClass:"modal-header bg-primary text-white"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},["new"===t.modalType?e("span",[t._v("新增產品")]):e("span",[t._v("修改商品")])]),t._v(" "),t._m(1)]),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"image"}},[t._v("輸入圖片網址")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.imageUrl,expression:"tempProduct.imageUrl"}],staticClass:"form-control",attrs:{type:"text",id:"image",placeholder:"請輸入圖片連結"},domProps:{value:t.tempProduct.imageUrl},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"imageUrl",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"customFile"}},[t._v("\n                  或 上傳圖片\n                  "),t.isfilterLoading?e("i",{staticClass:"fas fa-spinner fa-spin"}):t._e()]),t._v(" "),e("input",{ref:"files",staticClass:"form-control",attrs:{type:"file",id:"customFile"},on:{change:function(a){return t.uploadFile()}}})]),t._v(" "),e("img",{staticClass:"img-fluid",attrs:{alt:"",src:t.tempProduct.imageUrl}})]),t._v(" "),e("div",{staticClass:"col-sm-8"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("標題")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.title,expression:"tempProduct.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempProduct.title},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"title",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"category"}},[t._v("分類")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.category,expression:"tempProduct.category"}],staticClass:"form-control",attrs:{type:"text",id:"category",placeholder:"請輸入分類"},domProps:{value:t.tempProduct.category},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"category",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("單位")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.unit,expression:"tempProduct.unit"}],staticClass:"form-control",attrs:{type:"unit",id:"unit",placeholder:"請輸入單位"},domProps:{value:t.tempProduct.unit},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"unit",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-row"},[e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"origin_price"}},[t._v("原價")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.origin_price,expression:"tempProduct.origin_price"}],staticClass:"form-control",attrs:{type:"number",id:"origin_price",placeholder:"請輸入原價"},domProps:{value:t.tempProduct.origin_price},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"origin_price",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group col-md-6"},[e("label",{attrs:{for:"price"}},[t._v("售價")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.price,expression:"tempProduct.price"}],staticClass:"form-control",attrs:{type:"number",id:"price",placeholder:"請輸入售價"},domProps:{value:t.tempProduct.price},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"price",a.target.value)}}})])]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"description"}},[t._v("產品描述")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.description,expression:"tempProduct.description"}],staticClass:"form-control",attrs:{type:"text",id:"description",placeholder:"請輸入產品描述"},domProps:{value:t.tempProduct.description},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"description",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"content"}},[t._v("說明內容")]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.content,expression:"tempProduct.content"}],staticClass:"form-control",attrs:{type:"text",id:"content",placeholder:"請輸入產品說明內容"},domProps:{value:t.tempProduct.content},on:{input:function(a){a.target.composing||t.$set(t.tempProduct,"content",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempProduct.is_enabled,expression:"tempProduct.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"is_enabled","true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(t.tempProduct.is_enabled)?t._i(t.tempProduct.is_enabled,null)>-1:t._q(t.tempProduct.is_enabled,"1")},on:{change:function(a){var e=t.tempProduct.is_enabled,s=a.target,r=s.checked?"1":"0";if(Array.isArray(e)){var o=t._i(e,null);s.checked?o<0&&t.$set(t.tempProduct,"is_enabled",e.concat([null])):o>-1&&t.$set(t.tempProduct,"is_enabled",e.slice(0,o).concat(e.slice(o+1)))}else t.$set(t.tempProduct,"is_enabled",r)}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("是否啟用")])])])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.updateProduct()}}},[t._v("確認")])])])])]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"delProductModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[t._m(2),t._v(" "),e("div",{staticClass:"modal-body"},[t._v("\n          是否刪除\n          "),e("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempProduct.title))]),t._v(" 商品(刪除後將無法恢復)。\n        ")]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),t._v(" "),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){return t.updateProduct()}}},[t._v("確認刪除")])])])])])],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",{attrs:{width:"55"}},[t._v("編號")]),t._v(" "),e("th",{attrs:{width:"100"}},[t._v("分類")]),t._v(" "),e("th",[t._v("產品名稱")]),t._v(" "),e("th",{staticClass:"text-right",attrs:{width:"120"}},[t._v("原價")]),t._v(" "),e("th",{staticClass:"text-right",attrs:{width:"120"}},[t._v("售價")]),t._v(" "),e("th",{staticClass:"text-center",attrs:{width:"120"}},[t._v("啟用狀態")]),t._v(" "),e("th",{staticClass:"text-center",attrs:{width:"120"}},[t._v("編輯")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header bg-danger text-white"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[this._v("刪除產品")])]),this._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]},mt=e("VU/8")(ut,pt,!1,null,null,null).exports,vt={components:{Page:dt},data:function(){return{isLoading:!1,orders:[],pagination:{}}},methods:{getOrders:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var e="https://vue-course-api.hexschool.io/api/dress_store/admin/orders?page="+a;this.$http.get(e).then(function(a){console.log("訂單管理",a.data),t.isLoading=!1,t.orders=a.data.orders,t.pagination=a.data.pagination})}},created:function(){this.getOrders()}},_t={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),e("div",{staticClass:"row my-3"},[e("div",{staticClass:"col-md-6"},[e("Page",{attrs:{propsPage:t.pagination},on:{emitPage:t.getOrders}})],1)]),t._v(" "),e("table",{staticClass:"table table-hover mt-3"},[t._m(0),t._v(" "),e("tbody",t._l(t.orders,function(a,s){return e("tr",{key:s,class:{"text-secondary":!a.is_paid}},[e("td",[t._v(t._s(t._f("date")(a.create_at)))]),t._v(" "),e("td",[a.user?e("span",{domProps:{textContent:t._s(a.user.email)}}):t._e()]),t._v(" "),e("td",[e("ul",{staticClass:"list-unstyled"},t._l(a.products,function(a,s){return e("li",{key:s},[t._v("\n              "+t._s(a.product.title)+" 數量："+t._s(a.qty)+"\n              "+t._s(a.product.unit)+"\n            ")])}),0)]),t._v(" "),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(a.total)))]),t._v(" "),e("td",[a.is_paid?e("strong",{staticClass:"text-success"},[t._v("已付款")]):e("span",{staticClass:"text-muted"},[t._v("尚未起用")])])])}),0)])],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",{attrs:{width:"120"}},[t._v("購買時間")]),t._v(" "),e("th",[t._v("Email")]),t._v(" "),e("th",[t._v("購買款項")]),t._v(" "),e("th",{attrs:{width:"120"}},[t._v("應付金額")]),t._v(" "),e("th",{attrs:{width:"120"}},[t._v("是否付款")])])}]},ht=e("VU/8")(vt,_t,!1,null,null,null).exports,gt={components:{Page:dt},data:function(){return{isLoading:!1,coupons:[],tempCoupon:{},pagination:{},modalType:"new",due_date:""}},watch:{due_date:function(){var t=Math.floor(new Date(this.due_date)/1e3);this.tempCoupon.due_date=t}},methods:{getCoupons:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var e="https://vue-course-api.hexschool.io/api/dress_store/admin/coupons?page="+a;this.$http.get(e).then(function(a){console.log("優惠券列表",a.data),t.isLoading=!1,t.coupons=a.data.coupons,t.pagination=a.data.pagination})},openModal:function(t,a){var e=this;"new"===t?(e.modalType="new",e.tempCoupon={},m()("#couponModal").modal("show")):"edit"===t?(e.modalType="edit",e.tempCoupon=a,m()("#couponModal").modal("show")):"delete"===t&&(e.modalType="delete",e.tempCoupon=a,m()("#delModal").modal("show"))},updateCoupon:function(){var t=this,a="",e="";"new"===this.modalType?(a="https://vue-course-api.hexschool.io/api/dress_store/admin/coupon",e="post"):"edit"===this.modalType?(a="https://vue-course-api.hexschool.io/api/dress_store/admin/coupon/"+this.tempCoupon.id,e="put"):"delete"===this.modalType&&(a="https://vue-course-api.hexschool.io/api/dress_store/admin/coupon/"+this.tempCoupon.id,e="delete"),this.$http[e](a,{data:this.tempCoupon}).then(function(a){console.log(t.modalType,a.data),t.getCoupons(),m()("#couponModal").modal("hide"),m()("#delModal").modal("hide")})}},created:function(){this.getCoupons()}},ft={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),t._v(" "),e("div",{staticClass:"row my-3"},[e("div",{staticClass:"col-md-6"},[e("Page",{attrs:{propsPage:t.pagination},on:{postPage:t.getCoupons}})],1),t._v(" "),e("div",{staticClass:"col-md-6 text-right"},[e("button",{staticClass:"btn btn-primary",on:{click:function(a){return t.openModal("new")}}},[t._v("新增優惠券")])])]),t._v(" "),e("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),e("tbody",t._l(t.coupons,function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.title))]),t._v(" "),e("td",[t._v(t._s(a.percent)+"%")]),t._v(" "),e("td",[t._v(t._s(t._f("date")(a.due_date)))]),t._v(" "),e("td",[a.is_enabled?e("span",{staticClass:"text-success"},[t._v("啟用")]):e("span",{staticClass:"text-secondary"},[t._v("不啟用")])]),t._v(" "),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("button",{staticClass:"btn btn-outline-primary btn-sm",attrs:{type:"button"},on:{click:function(e){return t.openModal("edit",a)}}},[t._v("編輯")]),t._v(" "),e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return t.openModal("delete",a)}}},[t._v("刪除")])])])])}),0)]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"couponModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},["new"===t.modalType?e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("新增優惠券")]):e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("修改優惠券")]),t._v(" "),t._m(1)]),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"title"}},[t._v("標題")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.title,expression:"tempCoupon.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"請輸入標題"},domProps:{value:t.tempCoupon.title},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"title",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"coupon_code"}},[t._v("優惠碼")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.code,expression:"tempCoupon.code"}],staticClass:"form-control",attrs:{type:"text",id:"coupon_code",placeholder:"請輸入優惠碼"},domProps:{value:t.tempCoupon.code},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"code",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"due_date"}},[t._v("到期日")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.due_date,expression:"due_date"}],staticClass:"form-control",attrs:{type:"date",id:"due_date"},domProps:{value:t.due_date},on:{input:function(a){a.target.composing||(t.due_date=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"price"}},[t._v("折扣百分比")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.percent,expression:"tempCoupon.percent"}],staticClass:"form-control",attrs:{type:"number",id:"price",placeholder:"請輸入折扣百分比"},domProps:{value:t.tempCoupon.percent},on:{input:function(a){a.target.composing||t.$set(t.tempCoupon,"percent",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCoupon.is_enabled,expression:"tempCoupon.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox","true-value":1,"false-value":0,id:"is_enabled"},domProps:{checked:Array.isArray(t.tempCoupon.is_enabled)?t._i(t.tempCoupon.is_enabled,null)>-1:t._q(t.tempCoupon.is_enabled,1)},on:{change:function(a){var e=t.tempCoupon.is_enabled,s=a.target,r=s.checked?1:0;if(Array.isArray(e)){var o=t._i(e,null);s.checked?o<0&&t.$set(t.tempCoupon,"is_enabled",e.concat([null])):o>-1&&t.$set(t.tempCoupon,"is_enabled",e.slice(0,o).concat(e.slice(o+1)))}else t.$set(t.tempCoupon,"is_enabled",r)}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"is_enabled"}},[t._v("是否啟用")])])])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.updateCoupon()}}},[t._v("更新優惠券")])])])])]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"delModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content border-0"},[e("div",{staticClass:"modal-header bg-danger text-white"},[t._m(2),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(a){return t.closeModal()}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[t._v("\n          是否刪除\n          "),e("strong",{staticClass:"text-danger"},[t._v(t._s(t.tempCoupon.title))]),t._v(" 優惠券(刪除後將無法恢復)。\n        ")]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(a){return t.closeModal()}}},[t._v("取消")]),t._v(" "),e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){return t.updateCoupon()}}},[t._v("確認刪除")])])])])])],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th",[t._v("名稱")]),t._v(" "),e("th",{attrs:{width:"130"}},[t._v("折扣百分比")]),t._v(" "),e("th",{attrs:{width:"130"}},[t._v("到期日")]),t._v(" "),e("th",{attrs:{width:"130"}},[t._v("是否啟用")]),t._v(" "),e("th",{attrs:{width:"130"}},[t._v("編輯")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close","data-dismiss":"modal"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[a("span",[this._v("刪除產品")])])}]},Ct=e("VU/8")(gt,ft,!1,null,null,null).exports;s.a.use(i.a);var bt=new i.a({routes:[{path:"*",redirect:"/"},{path:"/",name:"Dashboard",component:x,children:[{path:"/",name:"CustomerProducts",component:F},{path:"customer_products_topic",name:"CustomerProductsTopic",component:O},{path:"customer_products_hot",name:"CustomerProductsHot",component:I},{path:"customer_products_discount",name:"CustomerProductsDiscount",component:H},{path:"customer_products_search/:keyword",name:"CustomerProductsSearch",component:z},{path:"customer_product/:id",name:"CustomerProduct",component:Y},{path:"customer_orders",name:"CustomerOrders",component:et},{path:"customer_check/:id",name:"CustomerCheck",component:ot}]},{path:"/login",name:"Login",component:l},{path:"/admin",name:"DashboardRoot",component:ct,children:[{path:"products",name:"Products",component:mt,meta:{requiresAuth:!0}},{path:"orders",name:"Orders",component:ht,meta:{requiresAuth:!0}},{path:"orders",name:"Orders",component:ht,meta:{requiresAuth:!0}},{path:"coupons",name:"Coupons",component:Ct,meta:{requiresAuth:!0}}]}]}),yt=(e("K3J8"),e("mtWM")),xt=e.n(yt),Pt=e("Rf8U"),$t=e.n(Pt),wt=e("sUu7"),kt=e("1SbN"),Lt=e.n(kt),Dt=e("ZZvs"),Et=e.n(Dt);e("SYh3");s.a.prototype.$bus=new s.a,s.a.use($t.a,xt.a),s.a.use(wt.a),wt.a.Validator.localize("zh-TW",Lt.a),s.a.component("Loading",Et.a),s.a.filter("currency",function(t){if(isNaN(t))return"$0";return"$"+Number(t).toFixed(0).replace(/./g,function(t,a,e){return a&&"."!==t&&(e.length-a)%3==0?(", "+t).replace(/\s/g,""):t})}),s.a.filter("date",function(t){return new Date(1e3*t).toLocaleDateString()}),s.a.config.productionTip=!1,xt.a.defaults.withCredentials=!0,new s.a({el:"#app",router:bt,components:{App:o},template:"<App/>"}),bt.beforeEach(function(t,a,e){if(console.log("to",t,"from",a,"next",e),t.meta.requiresAuth){xt.a.post("https://vue-course-api.hexschool.io/api/user/check").then(function(t){console.log("檢查登入狀態",t.data),t.data.success?e():e("/login")})}else e()})},RKGu:function(t,a,e){t.exports=e.p+"static/img/banner03.0e87c60.png"},SYh3:function(t,a){},UdwP:function(t,a){},XFkg:function(t,a){},Zm9O:function(t,a){},c8kB:function(t,a){},cfxH:function(t,a){},"jO+L":function(t,a,e){t.exports=e.p+"static/img/banner01.d1f914b.jpg"},jywQ:function(t,a,e){t.exports=e.p+"static/img/coupon02.3dbffb1.png"},rbjP:function(t,a,e){t.exports=e.p+"static/img/coupon03.532aa30.png"},z4Hk:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.86912b3a3e895e26e30f.js.map